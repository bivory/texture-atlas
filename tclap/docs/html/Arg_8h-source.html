<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>tclap: Arg.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<div class="nav">
<a class="el" href="dir_000000.html">include</a>&nbsp;/&nbsp;<a class="el" href="dir_000001.html">tclap</a></div>
<h1>Arg.h</h1><a href="Arg_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 <span class="comment">// -*- Mode: c++; c-basic-offset: 4; tab-width: 4; -*-</span>
00002 
00003 <span class="comment">/******************************************************************************</span>
00004 <span class="comment"> *</span>
00005 <span class="comment"> *  file:  Arg.h</span>
00006 <span class="comment"> *</span>
00007 <span class="comment"> *  Copyright (c) 2003, Michael E. Smoot .</span>
00008 <span class="comment"> *  Copyright (c) 2004, Michael E. Smoot, Daniel Aarno .</span>
00009 <span class="comment"> *  All rights reverved.</span>
00010 <span class="comment"> *</span>
00011 <span class="comment"> *  See the file COPYING in the top directory of this distribution for</span>
00012 <span class="comment"> *  more information.</span>
00013 <span class="comment"> *</span>
00014 <span class="comment"> *  THE SOFTWARE IS PROVIDED _AS IS_, WITHOUT WARRANTY OF ANY KIND, EXPRESS</span>
00015 <span class="comment"> *  OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</span>
00016 <span class="comment"> *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL</span>
00017 <span class="comment"> *  THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER</span>
00018 <span class="comment"> *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING</span>
00019 <span class="comment"> *  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER</span>
00020 <span class="comment"> *  DEALINGS IN THE SOFTWARE.</span>
00021 <span class="comment"> *</span>
00022 <span class="comment"> *****************************************************************************/</span>
00023 
00024 
00025 <span class="preprocessor">#ifndef TCLAP_ARGUMENT_H</span>
00026 <span class="preprocessor"></span><span class="preprocessor">#define TCLAP_ARGUMENT_H</span>
00027 <span class="preprocessor"></span>
00028 <span class="preprocessor">#ifdef HAVE_CONFIG_H</span>
00029 <span class="preprocessor"></span><span class="preprocessor">#include &lt;config.h&gt;</span>
00030 <span class="preprocessor">#else</span>
<a name="l00031"></a><a class="code" href="Arg_8h.html#a0">00031</a> <span class="preprocessor"></span><span class="preprocessor">#define HAVE_SSTREAM</span>
00032 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00033 <span class="preprocessor"></span>
00034 <span class="preprocessor">#include &lt;string&gt;</span>
00035 <span class="preprocessor">#include &lt;vector&gt;</span>
00036 <span class="preprocessor">#include &lt;list&gt;</span>
00037 <span class="preprocessor">#include &lt;iostream&gt;</span>
00038 <span class="preprocessor">#include &lt;iomanip&gt;</span>
00039 <span class="preprocessor">#include &lt;cstdio&gt;</span>
00040 
00041 <span class="preprocessor">#if defined(HAVE_SSTREAM)</span>
00042 <span class="preprocessor"></span><span class="preprocessor">#include &lt;sstream&gt;</span>
<a name="l00043"></a><a class="code" href="Arg_8h.html#a1">00043</a> <span class="keyword">typedef</span> std::istringstream istringstream;
00044 <span class="preprocessor">#elif defined(HAVE_STRSTREAM)</span>
00045 <span class="preprocessor"></span><span class="preprocessor">#include &lt;strstream&gt;</span>
00046 <span class="keyword">typedef</span> std::istrstream istringstream;
00047 <span class="preprocessor">#else</span>
00048 <span class="preprocessor"></span><span class="preprocessor">#error "Need a stringstream (sstream or strstream) to compile!"</span>
00049 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00050 <span class="preprocessor"></span>
00051 <span class="preprocessor">#include &lt;<a class="code" href="ArgException_8h.html">tclap/ArgException.h</a>&gt;</span>
00052 <span class="preprocessor">#include &lt;<a class="code" href="Visitor_8h.html">tclap/Visitor.h</a>&gt;</span>
00053 <span class="preprocessor">#include &lt;<a class="code" href="CmdLineInterface_8h.html">tclap/CmdLineInterface.h</a>&gt;</span>
00054 <span class="preprocessor">#include &lt;<a class="code" href="ArgTraits_8h.html">tclap/ArgTraits.h</a>&gt;</span>
00055 <span class="preprocessor">#include &lt;<a class="code" href="StandardTraits_8h.html">tclap/StandardTraits.h</a>&gt;</span>
00056 
<a name="l00057"></a><a class="code" href="namespaceTCLAP.html">00057</a> <span class="keyword">namespace </span>TCLAP {
00058 
<a name="l00064"></a><a class="code" href="classTCLAP_1_1Arg.html">00064</a> <span class="keyword">class </span><a class="code" href="classTCLAP_1_1Arg.html">Arg</a>
00065 {
00066     <span class="keyword">private</span>:
00067 
00071         <span class="keyword">static</span> <span class="keywordtype">bool</span>&amp; ignoreRestRef() { <span class="keyword">static</span> <span class="keywordtype">bool</span> ign = <span class="keyword">false</span>; <span class="keywordflow">return</span> ign; }
00072 
00077         <span class="keyword">static</span> <span class="keywordtype">char</span>&amp; delimiterRef() { <span class="keyword">static</span> <span class="keywordtype">char</span> delim = <span class="charliteral">' '</span>; <span class="keywordflow">return</span> delim; }
00078 
00079     <span class="keyword">protected</span>:
00080 
<a name="l00089"></a><a class="code" href="classTCLAP_1_1Arg.html#p0">00089</a>         std::string _flag;
00090 
<a name="l00098"></a><a class="code" href="classTCLAP_1_1Arg.html#p1">00098</a>         std::string _name;
00099 
<a name="l00103"></a><a class="code" href="classTCLAP_1_1Arg.html#p2">00103</a>         std::string _description;
00104 
<a name="l00108"></a><a class="code" href="classTCLAP_1_1Arg.html#p3">00108</a>         <span class="keywordtype">bool</span> _required;
00109 
<a name="l00114"></a><a class="code" href="classTCLAP_1_1Arg.html#p4">00114</a>         std::string _requireLabel;
00115 
<a name="l00121"></a><a class="code" href="classTCLAP_1_1Arg.html#p5">00121</a>         <span class="keywordtype">bool</span> _valueRequired;
00122 
<a name="l00128"></a><a class="code" href="classTCLAP_1_1Arg.html#p6">00128</a>         <span class="keywordtype">bool</span> _alreadySet;
00129 
<a name="l00136"></a><a class="code" href="classTCLAP_1_1Arg.html#p7">00136</a>         <a class="code" href="classTCLAP_1_1Visitor.html">Visitor</a>* _visitor;
00137 
<a name="l00141"></a><a class="code" href="classTCLAP_1_1Arg.html#p8">00141</a>         <span class="keywordtype">bool</span> _ignoreable;
00142 
<a name="l00147"></a><a class="code" href="classTCLAP_1_1Arg.html#p9">00147</a>         <span class="keywordtype">bool</span> _xorSet;
00148 
<a name="l00149"></a><a class="code" href="classTCLAP_1_1Arg.html#p10">00149</a>         <span class="keywordtype">bool</span> _acceptsMultipleValues;
00150 
00154         <span class="keywordtype">void</span> _checkWithVisitor() <span class="keyword">const</span>;
00155 
00169         <a class="code" href="classTCLAP_1_1Arg.html">Arg</a>( <span class="keyword">const</span> std::string&amp; flag,
00170              <span class="keyword">const</span> std::string&amp; name,
00171              <span class="keyword">const</span> std::string&amp; desc,
00172              <span class="keywordtype">bool</span> req,
00173              <span class="keywordtype">bool</span> valreq,
00174              <a class="code" href="classTCLAP_1_1Visitor.html">Visitor</a>* v = NULL );
00175 
00176     <span class="keyword">public</span>:
00180         <span class="keyword">virtual</span> ~<a class="code" href="classTCLAP_1_1Arg.html">Arg</a>();
00181 
00186         <span class="keyword">virtual</span> <span class="keywordtype">void</span> addToList( std::list&lt;Arg*&gt;&amp; argList ) <span class="keyword">const</span>;
00187 
<a name="l00191"></a><a class="code" href="classTCLAP_1_1Arg.html#e0">00191</a>         <span class="keyword">static</span> <span class="keywordtype">void</span> beginIgnoring() { ignoreRestRef() = <span class="keyword">true</span>; }
00192 
<a name="l00196"></a><a class="code" href="classTCLAP_1_1Arg.html#e1">00196</a>         <span class="keyword">static</span> <span class="keywordtype">bool</span> ignoreRest() { <span class="keywordflow">return</span> ignoreRestRef(); }
00197 
<a name="l00202"></a><a class="code" href="classTCLAP_1_1Arg.html#e2">00202</a>         <span class="keyword">static</span> <span class="keywordtype">char</span> delimiter() { <span class="keywordflow">return</span> delimiterRef(); }
00203 
<a name="l00208"></a><a class="code" href="classTCLAP_1_1Arg.html#e3">00208</a>         <span class="keyword">static</span> <span class="keywordtype">char</span> blankChar() { <span class="keywordflow">return</span> (char)7; }
00209 
<a name="l00213"></a><a class="code" href="classTCLAP_1_1Arg.html#e4">00213</a>         <span class="keyword">static</span> <span class="keywordtype">char</span> flagStartChar() { <span class="keywordflow">return</span> <span class="charliteral">'-'</span>; }
00214 
<a name="l00219"></a><a class="code" href="classTCLAP_1_1Arg.html#e5">00219</a>         <span class="keyword">static</span> <span class="keyword">const</span> std::string flagStartString() { <span class="keywordflow">return</span> <span class="stringliteral">"-"</span>; }
00220 
<a name="l00225"></a><a class="code" href="classTCLAP_1_1Arg.html#e6">00225</a>         <span class="keyword">static</span> <span class="keyword">const</span> std::string nameStartString() { <span class="keywordflow">return</span> <span class="stringliteral">"--"</span>; }
00226 
<a name="l00230"></a><a class="code" href="classTCLAP_1_1Arg.html#e7">00230</a>         <span class="keyword">static</span> <span class="keyword">const</span> std::string ignoreNameString() { <span class="keywordflow">return</span> <span class="stringliteral">"ignore_rest"</span>; }
00231 
<a name="l00236"></a><a class="code" href="classTCLAP_1_1Arg.html#e8">00236</a>         <span class="keyword">static</span> <span class="keywordtype">void</span> setDelimiter( <span class="keywordtype">char</span> c ) { delimiterRef() = c; }
00237 
00245         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> processArg(<span class="keywordtype">int</span> *i, std::vector&lt;std::string&gt;&amp; args) = 0;
00246 
00252         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> operator==(<span class="keyword">const</span> <a class="code" href="classTCLAP_1_1Arg.html">Arg</a>&amp; a) <span class="keyword">const</span>;
00253 
00257         <span class="keyword">const</span> std::string&amp; getFlag() <span class="keyword">const</span>;
00258 
00262         <span class="keyword">const</span> std::string&amp; getName() <span class="keyword">const</span>;
00263 
00267         std::string getDescription() <span class="keyword">const</span>;
00268 
00272         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> isRequired() <span class="keyword">const</span>;
00273 
00278         <span class="keywordtype">void</span> forceRequired();
00279 
00284         <span class="keywordtype">void</span> xorSet();
00285 
00289         <span class="keywordtype">bool</span> isValueRequired() <span class="keyword">const</span>;
00290 
00295         <span class="keywordtype">bool</span> isSet() <span class="keyword">const</span>;
00296 
00300         <span class="keywordtype">bool</span> isIgnoreable() <span class="keyword">const</span>;
00301 
00310         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> argMatches( <span class="keyword">const</span> std::string&amp; s ) <span class="keyword">const</span>;
00311 
00316         <span class="keyword">virtual</span> std::string toString() <span class="keyword">const</span>;
00317 
00322         <span class="keyword">virtual</span> std::string shortID( <span class="keyword">const</span> std::string&amp; valueId = <span class="stringliteral">"val"</span> ) <span class="keyword">const</span>;
00323 
00328         <span class="keyword">virtual</span> std::string longID( <span class="keyword">const</span> std::string&amp; valueId = <span class="stringliteral">"val"</span> ) <span class="keyword">const</span>;
00329 
00337         <span class="keyword">virtual</span> <span class="keywordtype">void</span> trimFlag( std::string&amp; flag, std::string&amp; value ) <span class="keyword">const</span>;
00338 
00345         <span class="keywordtype">bool</span> _hasBlanks( <span class="keyword">const</span> std::string&amp; s ) <span class="keyword">const</span>;
00346 
00352         <span class="keywordtype">void</span> setRequireLabel( <span class="keyword">const</span> std::string&amp; s );
00353 
00358         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> allowMore();
00359 
00364         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> acceptsMultipleValues();
00365 
00370          <span class="keyword">virtual</span> <span class="keywordtype">void</span> reset();
00371 };
00372 
<a name="l00376"></a><a class="code" href="namespaceTCLAP.html#a0">00376</a> <span class="keyword">typedef</span> std::list&lt;Arg*&gt;::iterator ArgListIterator;
00377 
<a name="l00381"></a><a class="code" href="namespaceTCLAP.html#a1">00381</a> <span class="keyword">typedef</span> std::vector&lt;Arg*&gt;::iterator ArgVectorIterator;
00382 
<a name="l00386"></a><a class="code" href="namespaceTCLAP.html#a2">00386</a> <span class="keyword">typedef</span> std::list&lt;Visitor*&gt;::iterator VisitorListIterator;
00387 
00388 <span class="comment">/*</span>
00389 <span class="comment"> * Extract a value of type T from it's string representation contained</span>
00390 <span class="comment"> * in strVal. The ValueLike parameter used to select the correct</span>
00391 <span class="comment"> * specialization of ExtractValue depending on the value traits of T.</span>
00392 <span class="comment"> * ValueLike traits use operator&gt;&gt; to assign the value from strVal.</span>
00393 <span class="comment"> */</span>
00394 <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keywordtype">void</span>
<a name="l00395"></a><a class="code" href="namespaceTCLAP.html#a3">00395</a> <a class="code" href="namespaceTCLAP.html#a4">ExtractValue</a>(T &amp;destVal, <span class="keyword">const</span> std::string&amp; strVal, <a class="code" href="structTCLAP_1_1ValueLike.html">ValueLike</a> vl)
00396 {
00397     static_cast&lt;void&gt;(vl); <span class="comment">// Avoid warning about unused vl</span>
00398     std::istringstream is(strVal);
00399 
00400     <span class="keywordtype">int</span> valuesRead = 0;
00401     <span class="keywordflow">while</span> ( is.good() ) {
00402     <span class="keywordflow">if</span> ( is.peek() != EOF )
00403 <span class="preprocessor">#ifdef TCLAP_SETBASE_ZERO</span>
00404 <span class="preprocessor"></span>        is &gt;&gt; std::setbase(0) &gt;&gt; destVal;
00405 <span class="preprocessor">#else</span>
00406 <span class="preprocessor"></span>        is &gt;&gt; destVal;
00407 <span class="preprocessor">#endif</span>
00408 <span class="preprocessor"></span>    <span class="keywordflow">else</span>
00409         <span class="keywordflow">break</span>;
00410 
00411     valuesRead++;
00412     }
00413 
00414     <span class="keywordflow">if</span> ( is.fail() )
00415     <span class="keywordflow">throw</span>( <a class="code" href="classTCLAP_1_1ArgParseException.html">ArgParseException</a>(<span class="stringliteral">"Couldn't read argument value "</span>
00416                  <span class="stringliteral">"from string '"</span> + strVal + <span class="stringliteral">"'"</span>));
00417 
00418 
00419     <span class="keywordflow">if</span> ( valuesRead &gt; 1 )
00420     <span class="keywordflow">throw</span>( <a class="code" href="classTCLAP_1_1ArgParseException.html">ArgParseException</a>(<span class="stringliteral">"More than one valid value parsed from "</span>
00421                  <span class="stringliteral">"string '"</span> + strVal + <span class="stringliteral">"'"</span>));
00422 
00423 }
00424 
00425 <span class="comment">/*</span>
00426 <span class="comment"> * Extract a value of type T from it's string representation contained</span>
00427 <span class="comment"> * in strVal. The ValueLike parameter used to select the correct</span>
00428 <span class="comment"> * specialization of ExtractValue depending on the value traits of T.</span>
00429 <span class="comment"> * StringLike uses assignment (operator=) to assign from strVal.</span>
00430 <span class="comment"> */</span>
00431 <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keywordtype">void</span>
<a name="l00432"></a><a class="code" href="namespaceTCLAP.html#a4">00432</a> <a class="code" href="namespaceTCLAP.html#a4">ExtractValue</a>(T &amp;destVal, <span class="keyword">const</span> std::string&amp; strVal, <a class="code" href="structTCLAP_1_1StringLike.html">StringLike</a> sl)
00433 {
00434     static_cast&lt;void&gt;(sl); <span class="comment">// Avoid warning about unused sl</span>
00435     <a class="code" href="namespaceTCLAP.html#a7">SetString</a>(destVal, strVal);
00436 }
00437 
00439 <span class="comment">//BEGIN Arg.cpp</span>
00441 <span class="comment"></span>
<a name="l00442"></a><a class="code" href="classTCLAP_1_1Arg.html#b1">00442</a> <span class="keyword">inline</span> Arg::Arg(<span class="keyword">const</span> std::string&amp; flag,
00443          <span class="keyword">const</span> std::string&amp; name,
00444          <span class="keyword">const</span> std::string&amp; desc,
00445          <span class="keywordtype">bool</span> req,
00446          <span class="keywordtype">bool</span> valreq,
00447          <a class="code" href="classTCLAP_1_1Visitor.html">Visitor</a>* v) :
00448   _flag(flag),
00449   _name(name),
00450   _description(desc),
00451   _required(req),
00452   _requireLabel(<span class="stringliteral">"required"</span>),
00453   _valueRequired(valreq),
00454   _alreadySet(false),
00455   _visitor( v ),
00456   _ignoreable(true),
00457   _xorSet(false),
00458   _acceptsMultipleValues(false)
00459 {
00460     <span class="keywordflow">if</span> ( <a class="code" href="classTCLAP_1_1Arg.html#p0">_flag</a>.length() &gt; 1 )
00461         <span class="keywordflow">throw</span>(<a class="code" href="classTCLAP_1_1SpecificationException.html">SpecificationException</a>(
00462                 <span class="stringliteral">"Argument flag can only be one character long"</span>, <a class="code" href="classTCLAP_1_1Arg.html#a14">toString</a>() ) );
00463 
00464     <span class="keywordflow">if</span> ( <a class="code" href="classTCLAP_1_1Arg.html#p1">_name</a> != <a class="code" href="classTCLAP_1_1Arg.html#e7">ignoreNameString</a>() &amp;&amp;
00465          ( <a class="code" href="classTCLAP_1_1Arg.html#p0">_flag</a> == Arg::flagStartString() ||
00466            <a class="code" href="classTCLAP_1_1Arg.html#p0">_flag</a> == Arg::nameStartString() ||
00467            <a class="code" href="classTCLAP_1_1Arg.html#p0">_flag</a> == <span class="stringliteral">" "</span> ) )
00468         <span class="keywordflow">throw</span>(<a class="code" href="classTCLAP_1_1SpecificationException.html">SpecificationException</a>(<span class="stringliteral">"Argument flag cannot be either '"</span> +
00469                             Arg::flagStartString() + <span class="stringliteral">"' or '"</span> +
00470                             Arg::nameStartString() + <span class="stringliteral">"' or a space."</span>,
00471                             <a class="code" href="classTCLAP_1_1Arg.html#a14">toString</a>() ) );
00472 
00473     <span class="keywordflow">if</span> ( ( <a class="code" href="classTCLAP_1_1Arg.html#p1">_name</a>.substr( 0, Arg::flagStartString().length() ) == Arg::flagStartString() ) ||
00474          ( <a class="code" href="classTCLAP_1_1Arg.html#p1">_name</a>.substr( 0, Arg::nameStartString().length() ) == Arg::nameStartString() ) ||
00475          ( <a class="code" href="classTCLAP_1_1Arg.html#p1">_name</a>.find( <span class="stringliteral">" "</span>, 0 ) != std::string::npos ) )
00476         <span class="keywordflow">throw</span>(<a class="code" href="classTCLAP_1_1SpecificationException.html">SpecificationException</a>(<span class="stringliteral">"Argument name begin with either '"</span> +
00477                             Arg::flagStartString() + <span class="stringliteral">"' or '"</span> +
00478                             Arg::nameStartString() + <span class="stringliteral">"' or space."</span>,
00479                             <a class="code" href="classTCLAP_1_1Arg.html#a14">toString</a>() ) );
00480 
00481 }
00482 
<a name="l00483"></a><a class="code" href="classTCLAP_1_1Arg.html#a0">00483</a> <span class="keyword">inline</span> Arg::~Arg() { }
00484 
<a name="l00485"></a><a class="code" href="classTCLAP_1_1Arg.html#a15">00485</a> <span class="keyword">inline</span> std::string Arg::shortID( <span class="keyword">const</span> std::string&amp; valueId )<span class="keyword"> const</span>
00486 <span class="keyword"></span>{
00487     std::string <span class="keywordtype">id</span> = <span class="stringliteral">""</span>;
00488 
00489     <span class="keywordflow">if</span> ( <a class="code" href="classTCLAP_1_1Arg.html#p0">_flag</a> != <span class="stringliteral">""</span> )
00490         <span class="keywordtype">id</span> = Arg::flagStartString() + _flag;
00491     <span class="keywordflow">else</span>
00492         <span class="keywordtype">id</span> = Arg::nameStartString() + _name;
00493 
00494     <span class="keywordflow">if</span> ( _valueRequired )
00495         <span class="keywordtype">id</span> += std::string( 1, Arg::delimiter() ) + <span class="stringliteral">"&lt;"</span> + valueId  + <span class="stringliteral">"&gt;"</span>;
00496 
00497     <span class="keywordflow">if</span> ( !_required )
00498         <span class="keywordtype">id</span> = <span class="stringliteral">"["</span> + <span class="keywordtype">id</span> + <span class="stringliteral">"]"</span>;
00499 
00500     <span class="keywordflow">return</span> id;
00501 }
00502 
<a name="l00503"></a><a class="code" href="classTCLAP_1_1Arg.html#a16">00503</a> <span class="keyword">inline</span> std::string Arg::longID( <span class="keyword">const</span> std::string&amp; valueId )<span class="keyword"> const</span>
00504 <span class="keyword"></span>{
00505     std::string <span class="keywordtype">id</span> = <span class="stringliteral">""</span>;
00506 
00507     <span class="keywordflow">if</span> ( <a class="code" href="classTCLAP_1_1Arg.html#p0">_flag</a> != <span class="stringliteral">""</span> )
00508     {
00509         <span class="keywordtype">id</span> += Arg::flagStartString() + _flag;
00510 
00511         <span class="keywordflow">if</span> ( _valueRequired )
00512             <span class="keywordtype">id</span> += std::string( 1, Arg::delimiter() ) + <span class="stringliteral">"&lt;"</span> + valueId + <span class="stringliteral">"&gt;"</span>;
00513 
00514         <span class="keywordtype">id</span> += <span class="stringliteral">",  "</span>;
00515     }
00516 
00517     <span class="keywordtype">id</span> += Arg::nameStartString() + _name;
00518 
00519     <span class="keywordflow">if</span> ( _valueRequired )
00520         <span class="keywordtype">id</span> += std::string( 1, Arg::delimiter() ) + <span class="stringliteral">"&lt;"</span> + valueId + <span class="stringliteral">"&gt;"</span>;
00521 
00522     <span class="keywordflow">return</span> id;
00523 
00524 }
00525 
<a name="l00526"></a><a class="code" href="classTCLAP_1_1Arg.html#a3">00526</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> Arg::operator==(<span class="keyword">const</span> <a class="code" href="classTCLAP_1_1Arg.html">Arg</a>&amp; a)<span class="keyword"> const</span>
00527 <span class="keyword"></span>{
00528     <span class="keywordflow">if</span> ( ( <a class="code" href="classTCLAP_1_1Arg.html#p0">_flag</a> != <span class="stringliteral">""</span> &amp;&amp; <a class="code" href="classTCLAP_1_1Arg.html#p0">_flag</a> == a.<a class="code" href="classTCLAP_1_1Arg.html#p0">_flag</a> ) || <a class="code" href="classTCLAP_1_1Arg.html#p1">_name</a> == a.<a class="code" href="classTCLAP_1_1Arg.html#p1">_name</a>)
00529         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00530     <span class="keywordflow">else</span>
00531         <span class="keywordflow">return</span> <span class="keyword">false</span>;
00532 }
00533 
<a name="l00534"></a><a class="code" href="classTCLAP_1_1Arg.html#a6">00534</a> <span class="keyword">inline</span> std::string Arg::getDescription()<span class="keyword"> const</span>
00535 <span class="keyword"></span>{
00536     std::string desc = <span class="stringliteral">""</span>;
00537     <span class="keywordflow">if</span> ( _required )
00538         desc = <span class="stringliteral">"("</span> + <a class="code" href="classTCLAP_1_1Arg.html#p4">_requireLabel</a> + <span class="stringliteral">")  "</span>;
00539 
00540 <span class="comment">//  if ( _valueRequired )</span>
00541 <span class="comment">//      desc += "(value required)  ";</span>
00542 
00543     desc += _description;
00544     <span class="keywordflow">return</span> desc;
00545 }
00546 
<a name="l00547"></a><a class="code" href="classTCLAP_1_1Arg.html#a4">00547</a> <span class="keyword">inline</span> <span class="keyword">const</span> std::string&amp; Arg::getFlag()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _flag; }
00548 
<a name="l00549"></a><a class="code" href="classTCLAP_1_1Arg.html#a5">00549</a> <span class="keyword">inline</span> <span class="keyword">const</span> std::string&amp; Arg::getName()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _name; }
00550 
<a name="l00551"></a><a class="code" href="classTCLAP_1_1Arg.html#a7">00551</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> Arg::isRequired()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _required; }
00552 
<a name="l00553"></a><a class="code" href="classTCLAP_1_1Arg.html#a10">00553</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> Arg::isValueRequired()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _valueRequired; }
00554 
<a name="l00555"></a><a class="code" href="classTCLAP_1_1Arg.html#a11">00555</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> Arg::isSet()<span class="keyword"> const</span>
00556 <span class="keyword"></span>{
00557     <span class="keywordflow">if</span> ( <a class="code" href="classTCLAP_1_1Arg.html#p6">_alreadySet</a> &amp;&amp; !_xorSet )
00558         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00559     <span class="keywordflow">else</span>
00560         <span class="keywordflow">return</span> <span class="keyword">false</span>;
00561 }
00562 
<a name="l00563"></a><a class="code" href="classTCLAP_1_1Arg.html#a12">00563</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> Arg::isIgnoreable()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _ignoreable; }
00564 
<a name="l00565"></a><a class="code" href="classTCLAP_1_1Arg.html#a19">00565</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> Arg::setRequireLabel( <span class="keyword">const</span> std::string&amp; s)
00566 {
00567     <a class="code" href="classTCLAP_1_1Arg.html#p4">_requireLabel</a> = s;
00568 }
00569 
<a name="l00570"></a><a class="code" href="classTCLAP_1_1Arg.html#a13">00570</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> Arg::argMatches( <span class="keyword">const</span> std::string&amp; argFlag )<span class="keyword"> const</span>
00571 <span class="keyword"></span>{
00572     <span class="keywordflow">if</span> ( ( argFlag == Arg::flagStartString() + <a class="code" href="classTCLAP_1_1Arg.html#p0">_flag</a> &amp;&amp; <a class="code" href="classTCLAP_1_1Arg.html#p0">_flag</a> != <span class="stringliteral">""</span> ) ||
00573          argFlag == Arg::nameStartString() + _name )
00574         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00575     <span class="keywordflow">else</span>
00576         <span class="keywordflow">return</span> <span class="keyword">false</span>;
00577 }
00578 
<a name="l00579"></a><a class="code" href="classTCLAP_1_1Arg.html#a14">00579</a> <span class="keyword">inline</span> std::string Arg::toString()<span class="keyword"> const</span>
00580 <span class="keyword"></span>{
00581     std::string s = <span class="stringliteral">""</span>;
00582 
00583     <span class="keywordflow">if</span> ( <a class="code" href="classTCLAP_1_1Arg.html#p0">_flag</a> != <span class="stringliteral">""</span> )
00584         s += Arg::flagStartString() + <a class="code" href="classTCLAP_1_1Arg.html#p0">_flag</a> + <span class="stringliteral">" "</span>;
00585 
00586     s += <span class="stringliteral">"("</span> + Arg::nameStartString() + <a class="code" href="classTCLAP_1_1Arg.html#p1">_name</a> + <span class="stringliteral">")"</span>;
00587 
00588     <span class="keywordflow">return</span> s;
00589 }
00590 
<a name="l00591"></a><a class="code" href="classTCLAP_1_1Arg.html#b0">00591</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> Arg::_checkWithVisitor()<span class="keyword"> const</span>
00592 <span class="keyword"></span>{
00593     <span class="keywordflow">if</span> ( <a class="code" href="classTCLAP_1_1Arg.html#p7">_visitor</a> != NULL )
00594         <a class="code" href="classTCLAP_1_1Arg.html#p7">_visitor</a>-&gt;<a class="code" href="classTCLAP_1_1Visitor.html#a2">visit</a>();
00595 }
00596 
<a name="l00600"></a><a class="code" href="classTCLAP_1_1Arg.html#a17">00600</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> Arg::trimFlag(std::string&amp; flag, std::string&amp; value)<span class="keyword"> const</span>
00601 <span class="keyword"></span>{
00602     <span class="keywordtype">int</span> stop = 0;
00603     <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0; static_cast&lt;unsigned int&gt;(i) &lt; flag.length(); i++ )
00604         <span class="keywordflow">if</span> ( flag[i] == Arg::delimiter() )
00605         {
00606             stop = i;
00607             <span class="keywordflow">break</span>;
00608         }
00609 
00610     <span class="keywordflow">if</span> ( stop &gt; 1 )
00611     {
00612         value = flag.substr(stop+1);
00613         flag = flag.substr(0,stop);
00614     }
00615 
00616 }
00617 
<a name="l00621"></a><a class="code" href="classTCLAP_1_1Arg.html#a18">00621</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> Arg::_hasBlanks( <span class="keyword">const</span> std::string&amp; s )<span class="keyword"> const</span>
00622 <span class="keyword"></span>{
00623     <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 1; static_cast&lt;unsigned int&gt;(i) &lt; s.length(); i++ )
00624         <span class="keywordflow">if</span> ( s[i] == Arg::blankChar() )
00625             <span class="keywordflow">return</span> <span class="keyword">true</span>;
00626 
00627     <span class="keywordflow">return</span> <span class="keyword">false</span>;
00628 }
00629 
<a name="l00630"></a><a class="code" href="classTCLAP_1_1Arg.html#a8">00630</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> Arg::forceRequired()
00631 {
00632     <a class="code" href="classTCLAP_1_1Arg.html#p3">_required</a> = <span class="keyword">true</span>;
00633 }
00634 
<a name="l00635"></a><a class="code" href="classTCLAP_1_1Arg.html#a9">00635</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> Arg::xorSet()
00636 {
00637     <a class="code" href="classTCLAP_1_1Arg.html#p6">_alreadySet</a> = <span class="keyword">true</span>;
00638     <a class="code" href="classTCLAP_1_1Arg.html#p9">_xorSet</a> = <span class="keyword">true</span>;
00639 }
00640 
<a name="l00644"></a><a class="code" href="classTCLAP_1_1Arg.html#a1">00644</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> Arg::addToList( std::list&lt;Arg*&gt;&amp; argList )<span class="keyword"> const</span>
00645 <span class="keyword"></span>{
00646     argList.push_front( const_cast&lt;Arg*&gt;(<span class="keyword">this</span>) );
00647 }
00648 
<a name="l00649"></a><a class="code" href="classTCLAP_1_1Arg.html#a20">00649</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> Arg::allowMore()
00650 {
00651     <span class="keywordflow">return</span> <span class="keyword">false</span>;
00652 }
00653 
<a name="l00654"></a><a class="code" href="classTCLAP_1_1Arg.html#a21">00654</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> Arg::acceptsMultipleValues()
00655 {
00656     <span class="keywordflow">return</span> _acceptsMultipleValues;
00657 }
00658 
<a name="l00659"></a><a class="code" href="classTCLAP_1_1Arg.html#a22">00659</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> Arg::reset()
00660 {
00661     <a class="code" href="classTCLAP_1_1Arg.html#p9">_xorSet</a> = <span class="keyword">false</span>;
00662     <a class="code" href="classTCLAP_1_1Arg.html#p6">_alreadySet</a> = <span class="keyword">false</span>;
00663 }
00664 
00666 <span class="comment">//END Arg.cpp</span>
00668 <span class="comment"></span>
00669 } <span class="comment">//namespace TCLAP</span>
00670 
00671 <span class="preprocessor">#endif</span>
00672 <span class="preprocessor"></span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Mon Sep 28 11:31:41 2009 for tclap by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
