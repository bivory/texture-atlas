<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>tclap: UnlabeledValueArg.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<div class="nav">
<a class="el" href="dir_000000.html">include</a>&nbsp;/&nbsp;<a class="el" href="dir_000001.html">tclap</a></div>
<h1>UnlabeledValueArg.h</h1><a href="UnlabeledValueArg_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 
00002 <span class="comment">/****************************************************************************** </span>
00003 <span class="comment"> * </span>
00004 <span class="comment"> *  file:  UnlabeledValueArg.h</span>
00005 <span class="comment"> * </span>
00006 <span class="comment"> *  Copyright (c) 2003, Michael E. Smoot .</span>
00007 <span class="comment"> *  Copyright (c) 2004, Michael E. Smoot, Daniel Aarno.</span>
00008 <span class="comment"> *  All rights reverved.</span>
00009 <span class="comment"> * </span>
00010 <span class="comment"> *  See the file COPYING in the top directory of this distribution for</span>
00011 <span class="comment"> *  more information.</span>
00012 <span class="comment"> *  </span>
00013 <span class="comment"> *  THE SOFTWARE IS PROVIDED _AS IS_, WITHOUT WARRANTY OF ANY KIND, EXPRESS </span>
00014 <span class="comment"> *  OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, </span>
00015 <span class="comment"> *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL </span>
00016 <span class="comment"> *  THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER </span>
00017 <span class="comment"> *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING </span>
00018 <span class="comment"> *  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER </span>
00019 <span class="comment"> *  DEALINGS IN THE SOFTWARE.  </span>
00020 <span class="comment"> *  </span>
00021 <span class="comment"> *****************************************************************************/</span> 
00022 
00023 
00024 <span class="preprocessor">#ifndef TCLAP_UNLABELED_VALUE_ARGUMENT_H</span>
00025 <span class="preprocessor"></span><span class="preprocessor">#define TCLAP_UNLABELED_VALUE_ARGUMENT_H</span>
00026 <span class="preprocessor"></span>
00027 <span class="preprocessor">#include &lt;string&gt;</span>
00028 <span class="preprocessor">#include &lt;vector&gt;</span>
00029 
00030 <span class="preprocessor">#include &lt;<a class="code" href="ValueArg_8h.html">tclap/ValueArg.h</a>&gt;</span>
00031 <span class="preprocessor">#include &lt;<a class="code" href="OptionalUnlabeledTracker_8h.html">tclap/OptionalUnlabeledTracker.h</a>&gt;</span>
00032 
00033 
00034 <span class="keyword">namespace </span>TCLAP {
00035 
00042 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;
<a name="l00043"></a><a class="code" href="classTCLAP_1_1UnlabeledValueArg.html">00043</a> <span class="keyword">class </span><a class="code" href="classTCLAP_1_1UnlabeledValueArg.html">UnlabeledValueArg</a> : <span class="keyword">public</span> <a class="code" href="classTCLAP_1_1ValueArg.html">ValueArg</a>&lt;T&gt;
00044 {
00045 
00046     <span class="comment">// If compiler has two stage name lookup (as gcc &gt;= 3.4 does)</span>
00047     <span class="comment">// this is requried to prevent undef. symbols</span>
00048     <span class="keyword">using</span> <a class="code" href="classTCLAP_1_1ValueArg.html">ValueArg&lt;T&gt;</a>::_ignoreable;
00049     <span class="keyword">using</span> <a class="code" href="classTCLAP_1_1ValueArg.html">ValueArg&lt;T&gt;</a>::_hasBlanks;
00050     <span class="keyword">using</span> <a class="code" href="classTCLAP_1_1ValueArg.html">ValueArg&lt;T&gt;</a>::_extractValue;
00051     <span class="keyword">using</span> <a class="code" href="classTCLAP_1_1ValueArg.html">ValueArg&lt;T&gt;</a>::_typeDesc;
00052     <span class="keyword">using</span> <a class="code" href="classTCLAP_1_1ValueArg.html">ValueArg&lt;T&gt;</a>::_name;
00053     <span class="keyword">using</span> <a class="code" href="classTCLAP_1_1ValueArg.html">ValueArg&lt;T&gt;</a>::_description;
00054     <span class="keyword">using</span> <a class="code" href="classTCLAP_1_1ValueArg.html">ValueArg&lt;T&gt;</a>::_alreadySet;
00055     <span class="keyword">using</span> <a class="code" href="classTCLAP_1_1ValueArg.html">ValueArg&lt;T&gt;</a>::toString;
00056 
00057     <span class="keyword">public</span>:
00058 
00080         <a class="code" href="classTCLAP_1_1UnlabeledValueArg.html">UnlabeledValueArg</a>( <span class="keyword">const</span> std::string&amp; name, 
00081                            <span class="keyword">const</span> std::string&amp; desc, 
00082                            <span class="keywordtype">bool</span> req,
00083                            T value,
00084                            <span class="keyword">const</span> std::string&amp; typeDesc,
00085                            <span class="keywordtype">bool</span> ignoreable = <span class="keyword">false</span>,
00086                            <a class="code" href="classTCLAP_1_1Visitor.html">Visitor</a>* v = NULL); 
00087 
00110         <a class="code" href="classTCLAP_1_1UnlabeledValueArg.html">UnlabeledValueArg</a>( <span class="keyword">const</span> std::string&amp; name, 
00111                            <span class="keyword">const</span> std::string&amp; desc, 
00112                            <span class="keywordtype">bool</span> req,
00113                            T value,
00114                            <span class="keyword">const</span> std::string&amp; typeDesc,
00115                            <a class="code" href="classTCLAP_1_1CmdLineInterface.html">CmdLineInterface</a>&amp; parser,
00116                            <span class="keywordtype">bool</span> ignoreable = <span class="keyword">false</span>,
00117                            <a class="code" href="classTCLAP_1_1Visitor.html">Visitor</a>* v = NULL );                     
00118                         
00138         <a class="code" href="classTCLAP_1_1UnlabeledValueArg.html">UnlabeledValueArg</a>( <span class="keyword">const</span> std::string&amp; name, 
00139                            <span class="keyword">const</span> std::string&amp; desc, 
00140                            <span class="keywordtype">bool</span> req,
00141                            T value,
00142                            <a class="code" href="classTCLAP_1_1Constraint.html">Constraint&lt;T&gt;</a>* constraint,
00143                            <span class="keywordtype">bool</span> ignoreable = <span class="keyword">false</span>,
00144                            <a class="code" href="classTCLAP_1_1Visitor.html">Visitor</a>* v = NULL ); 
00145 
00146         
00167         <a class="code" href="classTCLAP_1_1UnlabeledValueArg.html">UnlabeledValueArg</a>( <span class="keyword">const</span> std::string&amp; name, 
00168                            <span class="keyword">const</span> std::string&amp; desc, 
00169                            <span class="keywordtype">bool</span> req,
00170                            T value,
00171                            <a class="code" href="classTCLAP_1_1Constraint.html">Constraint&lt;T&gt;</a>* constraint,
00172                            <a class="code" href="classTCLAP_1_1CmdLineInterface.html">CmdLineInterface</a>&amp; parser,
00173                            <span class="keywordtype">bool</span> ignoreable = <span class="keyword">false</span>,
00174                            <a class="code" href="classTCLAP_1_1Visitor.html">Visitor</a>* v = NULL);
00175                         
00184         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> processArg(<span class="keywordtype">int</span>* i, std::vector&lt;std::string&gt;&amp; args); 
00185 
00189         <span class="keyword">virtual</span> std::string shortID(<span class="keyword">const</span> std::string&amp; val=<span class="stringliteral">"val"</span>) <span class="keyword">const</span>;
00190 
00194         <span class="keyword">virtual</span> std::string longID(<span class="keyword">const</span> std::string&amp; val=<span class="stringliteral">"val"</span>) <span class="keyword">const</span>;
00195 
00199         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> operator==(<span class="keyword">const</span> <a class="code" href="classTCLAP_1_1Arg.html">Arg</a>&amp; a ) <span class="keyword">const</span>;
00200 
00205         <span class="keyword">virtual</span> <span class="keywordtype">void</span> addToList( std::list&lt;Arg*&gt;&amp; argList ) <span class="keyword">const</span>;
00206 
00207 };
00208 
00212 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;
<a name="l00213"></a><a class="code" href="classTCLAP_1_1UnlabeledValueArg.html#a0">00213</a> <a class="code" href="classTCLAP_1_1UnlabeledValueArg.html">UnlabeledValueArg&lt;T&gt;::UnlabeledValueArg</a>(<span class="keyword">const</span> std::string&amp; name, 
00214                                         <span class="keyword">const</span> std::string&amp; desc, 
00215                                         <span class="keywordtype">bool</span> req,
00216                                         T val,
00217                                         <span class="keyword">const</span> std::string&amp; typeDesc,
00218                                         <span class="keywordtype">bool</span> ignoreable,
00219                                         <a class="code" href="classTCLAP_1_1Visitor.html">Visitor</a>* v)
00220 : <a class="code" href="classTCLAP_1_1ValueArg.html">ValueArg</a>&lt;T&gt;(<span class="stringliteral">""</span>, name, desc, req, val, typeDesc, v)
00221 { 
00222     _ignoreable = ignoreable;
00223 
00224     OptionalUnlabeledTracker::check(req, <a class="code" href="classTCLAP_1_1Arg.html#a14">toString</a>());
00225 
00226 }
00227 
00228 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;
<a name="l00229"></a><a class="code" href="classTCLAP_1_1UnlabeledValueArg.html#a1">00229</a> <a class="code" href="classTCLAP_1_1UnlabeledValueArg.html">UnlabeledValueArg&lt;T&gt;::UnlabeledValueArg</a>(<span class="keyword">const</span> std::string&amp; name, 
00230                                         <span class="keyword">const</span> std::string&amp; desc, 
00231                                         <span class="keywordtype">bool</span> req,
00232                                         T val,
00233                                         <span class="keyword">const</span> std::string&amp; typeDesc,
00234                                         <a class="code" href="classTCLAP_1_1CmdLineInterface.html">CmdLineInterface</a>&amp; parser,
00235                                         <span class="keywordtype">bool</span> ignoreable,
00236                                         <a class="code" href="classTCLAP_1_1Visitor.html">Visitor</a>* v)
00237 : <a class="code" href="classTCLAP_1_1ValueArg.html">ValueArg</a>&lt;T&gt;(<span class="stringliteral">""</span>, name, desc, req, val, typeDesc, v)
00238 { 
00239     _ignoreable = ignoreable;
00240     OptionalUnlabeledTracker::check(req, <a class="code" href="classTCLAP_1_1Arg.html#a14">toString</a>());
00241     parser.<a class="code" href="classTCLAP_1_1CmdLineInterface.html#a1">add</a>( <span class="keyword">this</span> );
00242 }
00243 
00247 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;
<a name="l00248"></a><a class="code" href="classTCLAP_1_1UnlabeledValueArg.html#a2">00248</a> <a class="code" href="classTCLAP_1_1UnlabeledValueArg.html">UnlabeledValueArg&lt;T&gt;::UnlabeledValueArg</a>(<span class="keyword">const</span> std::string&amp; name, 
00249                                         <span class="keyword">const</span> std::string&amp; desc, 
00250                                         <span class="keywordtype">bool</span> req,
00251                                         T val,
00252                                         <a class="code" href="classTCLAP_1_1Constraint.html">Constraint&lt;T&gt;</a>* constraint,
00253                                         <span class="keywordtype">bool</span> ignoreable,
00254                                         <a class="code" href="classTCLAP_1_1Visitor.html">Visitor</a>* v)
00255 : <a class="code" href="classTCLAP_1_1ValueArg.html">ValueArg</a>&lt;T&gt;(<span class="stringliteral">""</span>, name, desc, req, val, constraint, v)
00256 { 
00257     _ignoreable = ignoreable;
00258     OptionalUnlabeledTracker::check(req, <a class="code" href="classTCLAP_1_1Arg.html#a14">toString</a>());
00259 }
00260 
00261 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;
<a name="l00262"></a><a class="code" href="classTCLAP_1_1UnlabeledValueArg.html#a3">00262</a> <a class="code" href="classTCLAP_1_1UnlabeledValueArg.html">UnlabeledValueArg&lt;T&gt;::UnlabeledValueArg</a>(<span class="keyword">const</span> std::string&amp; name, 
00263                                         <span class="keyword">const</span> std::string&amp; desc, 
00264                                         <span class="keywordtype">bool</span> req,
00265                                         T val,
00266                                         <a class="code" href="classTCLAP_1_1Constraint.html">Constraint&lt;T&gt;</a>* constraint,
00267                                         <a class="code" href="classTCLAP_1_1CmdLineInterface.html">CmdLineInterface</a>&amp; parser,
00268                                         <span class="keywordtype">bool</span> ignoreable,
00269                                         <a class="code" href="classTCLAP_1_1Visitor.html">Visitor</a>* v)
00270 : <a class="code" href="classTCLAP_1_1ValueArg.html">ValueArg</a>&lt;T&gt;(<span class="stringliteral">""</span>, name, desc, req, val, constraint,  v)
00271 { 
00272     _ignoreable = ignoreable;
00273     OptionalUnlabeledTracker::check(req, <a class="code" href="classTCLAP_1_1Arg.html#a14">toString</a>());
00274     parser.<a class="code" href="classTCLAP_1_1CmdLineInterface.html#a1">add</a>( <span class="keyword">this</span> );
00275 }
00276 
00280 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;
<a name="l00281"></a><a class="code" href="classTCLAP_1_1UnlabeledValueArg.html#a4">00281</a> <span class="keywordtype">bool</span> <a class="code" href="classTCLAP_1_1UnlabeledValueArg.html">UnlabeledValueArg&lt;T&gt;::processArg</a>(<span class="keywordtype">int</span> *i, std::vector&lt;std::string&gt;&amp; args) 
00282 {
00283     
00284     <span class="keywordflow">if</span> ( _alreadySet )
00285         <span class="keywordflow">return</span> <span class="keyword">false</span>;
00286     
00287     <span class="keywordflow">if</span> ( <a class="code" href="classTCLAP_1_1Arg.html#a18">_hasBlanks</a>( args[*i] ) )
00288         <span class="keywordflow">return</span> <span class="keyword">false</span>;
00289 
00290     <span class="comment">// never ignore an unlabeled arg</span>
00291     
00292     <a class="code" href="classTCLAP_1_1ValueArg.html#b0">_extractValue</a>( args[*i] );
00293     _alreadySet = <span class="keyword">true</span>;
00294     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00295 }
00296 
00300 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;
<a name="l00301"></a><a class="code" href="classTCLAP_1_1UnlabeledValueArg.html#a5">00301</a> std::string <a class="code" href="classTCLAP_1_1UnlabeledValueArg.html">UnlabeledValueArg&lt;T&gt;::shortID</a>(<span class="keyword">const</span> std::string&amp; val)<span class="keyword"> const</span>
00302 <span class="keyword"></span>{
00303     static_cast&lt;void&gt;(val); <span class="comment">// Ignore input, don't warn</span>
00304     <span class="keywordflow">return</span> std::string(<span class="stringliteral">"&lt;"</span>) + _typeDesc + <span class="stringliteral">"&gt;"</span>;
00305 }
00306 
00310 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;
<a name="l00311"></a><a class="code" href="classTCLAP_1_1UnlabeledValueArg.html#a6">00311</a> std::string <a class="code" href="classTCLAP_1_1UnlabeledValueArg.html">UnlabeledValueArg&lt;T&gt;::longID</a>(<span class="keyword">const</span> std::string&amp; val)<span class="keyword"> const</span>
00312 <span class="keyword"></span>{
00313     static_cast&lt;void&gt;(val); <span class="comment">// Ignore input, don't warn</span>
00314 
00315     <span class="comment">// Ideally we would like to be able to use RTTI to return the name</span>
00316     <span class="comment">// of the type required for this argument.  However, g++ at least, </span>
00317     <span class="comment">// doesn't appear to return terribly useful "names" of the types.  </span>
00318     <span class="keywordflow">return</span> std::string(<span class="stringliteral">"&lt;"</span>) + _typeDesc + <span class="stringliteral">"&gt;"</span>;
00319 }
00320 
00324 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;
<a name="l00325"></a><a class="code" href="classTCLAP_1_1UnlabeledValueArg.html#a7">00325</a> <span class="keywordtype">bool</span> <a class="code" href="classTCLAP_1_1UnlabeledValueArg.html">UnlabeledValueArg&lt;T&gt;::operator==</a>(<span class="keyword">const</span> <a class="code" href="classTCLAP_1_1Arg.html">Arg</a>&amp; a )<span class="keyword"> const</span>
00326 <span class="keyword"></span>{
00327     <span class="keywordflow">if</span> ( _name == a.<a class="code" href="classTCLAP_1_1Arg.html#a5">getName</a>() || _description == a.<a class="code" href="classTCLAP_1_1Arg.html#a6">getDescription</a>() )
00328         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00329     <span class="keywordflow">else</span>
00330         <span class="keywordflow">return</span> <span class="keyword">false</span>;
00331 }
00332 
00333 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;
<a name="l00334"></a><a class="code" href="classTCLAP_1_1UnlabeledValueArg.html#a8">00334</a> <span class="keywordtype">void</span> <a class="code" href="classTCLAP_1_1UnlabeledValueArg.html">UnlabeledValueArg&lt;T&gt;::addToList</a>( std::list&lt;Arg*&gt;&amp; argList )<span class="keyword"> const</span>
00335 <span class="keyword"></span>{
00336     argList.push_back( const_cast&lt;Arg*&gt;(static_cast&lt;const Arg* const&gt;(<span class="keyword">this</span>)) );
00337 }
00338 
00339 }
00340 <span class="preprocessor">#endif</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Mon Sep 28 11:31:43 2009 for tclap by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
